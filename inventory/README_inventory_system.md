# 库存预警与订单建议系统

## 🎯 系统概述

这是一个基于销售和库存数据的智能预警系统，可以帮助分销商优化库存管理、预测库存风险、并提供补货建议。

## 📊 核心功能

### 1. 库存与销量趋势分析
- **库存价值变化图**: 显示时间维度上的库存波动
- **各渠道日销量变化**: 分别展示零售、线下、全渠道的销量趋势

### 2. 安全库存线设计
系统设计了三条安全库存线：

- **🔴 零售渠道安全库存线**: 基于 HSM, MM, ICP, Grocery & Others, CVS, DCP 渠道
- **🟡 线下渠道安全库存线**: 基于 HSM, MM, Grocery & Others, CVS, DCP, ICP, WS 渠道  
- **🔵 全渠道安全库存线**: 包含所有 Store Group Channel

### 3. 智能预警机制
- **实时库存监控**: 自动比较当前库存与安全库存线
- **分级预警系统**: 严重、警告、提醒三个级别
- **补货建议**: 自动计算建议补货金额

### 4. OTD (Order to Delivery) 考虑
- **可调节参数**: 支持 1-30 天的补货周期设置
- **前瞻性预警**: 考虑补货时间延迟，提前预警
- **动态计算**: 安全库存 = 日均销量 × OTD天数

## 🚀 快速开始

### 环境要求
```bash
pip install streamlit pandas plotly numpy
```

### 运行应用
```bash
streamlit run inventory_alert_system.py
```

### 数据格式要求
CSV文件应包含以下列：
- `Date`: 日期 (YYYY-MM-DD)
- `Distributor`: 分销商名称
- `Hub`: 分销中心
- `Inv.Value(RMB)`: 库存价值（人民币）
- `Product Hierarchy - Brand`: 产品品牌
- `Store Group Channel`: 销售渠道
- `IDS GIV`: 出货金额

## 📈 使用指南

### 侧边栏参数设置
1. **OTD天数**: 调整补货周期时间（默认7天）
2. **时间范围**: 选择分析的数据时间段

### 主界面功能
1. **关键指标概览**: 查看当前库存状态和各渠道销量
2. **库存预警**: 实时预警信息和补货建议
3. **趋势图表**: 库存与销量的时间序列分析
4. **安全库存线**: 可视化安全库存阈值
5. **详细数据**: 查看计算过程和原始数据

## 🔍 计算逻辑

### 渠道分类
- **零售渠道**: HSM, MM, ICP, Grocery & Others, CVS, DCP
- **线下渠道**: HSM, MM, Grocery & Others, CVS, DCP, ICP, WS
- **全渠道**: 包含所有Store Group Channel

### 安全库存计算
1. **日均销量**: 使用7天移动平均平滑波动
2. **安全库存线**: 日均销量 × OTD天数
3. **预警触发**: 实际库存 < 安全库存线

### 预警级别
- 🔴 **严重**: 低于零售渠道安全库存线
- 🟡 **警告**: 低于线下渠道安全库存线
- 🔵 **提醒**: 低于全渠道安全库存线

## 📊 业务价值

### 风险管控
- **提前预警**: 避免缺货风险
- **分级管理**: 根据渠道重要性设置不同预警级别
- **动态调整**: 支持根据业务需要调整参数

### 决策支持
- **数据驱动**: 基于历史销量趋势计算安全库存
- **精准补货**: 提供具体的补货金额建议
- **可视化**: 直观的图表帮助理解库存状况

### 效率提升
- **自动化**: 减少人工监控工作量
- **实时性**: 基于最新数据进行分析
- **友好界面**: 直观易用的操作界面

## 🔧 技术架构

- **前端**: Streamlit (Python Web应用框架)
- **数据处理**: Pandas (数据分析)
- **可视化**: Plotly (交互式图表)
- **部署**: 支持本地运行和云端部署

## 📝 更新日志

### v1.0.0 (当前版本)
- ✅ 基础库存预警功能
- ✅ 三条安全库存线设计
- ✅ OTD参数支持
- ✅ 交互式图表展示
- ✅ 渠道分析功能

## 🤝 支持与反馈

如有问题或建议，请联系开发团队。

---

*本系统旨在帮助企业优化库存管理，提高运营效率，降低缺货风险。* 